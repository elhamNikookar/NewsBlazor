@page "/filter/{searchkey?}"
@using CommonLayer

@model RazorNews.Pages.Newses.SearchNewsesModel
@{
    var searchKey = Model.SearchKey;
}


<div class="latest-posts">
    <div class="container-fluid">
        <div class="col-md-12">
@*             <div class="row">
                <div class="col-md-3">
                    <div class="blog-title-span">
                        <span class="title">
                            جستجو برای :
                            <input type="text" asp-for="Filter.Tittle" class="form-control" placeholder="جستجو ..." />
                        </span>
                    </div>
                </div>
                <div class="col-md-2">
                    <button class="btn btn-success btn-block" asp-page-handler="Search">جستجو</button>
                </div>
            </div> *@

            @if (Model != null && Model.Filter.Newses != null && Model.Filter.Newses.Any())
            {

                @foreach (var news in Model.Filter.Newses)
                {
                    <div class="col-md-3">
                        <!-- فراخوانی View Component و ارسال پارامتر -->
                        @await Component.InvokeAsync("SingleNewsItemComponent", new { newsItem = news })
                    </div>
                }

              @*   @foreach (var news in Model.Filter.Newses)
                {
                    <div class="col-md-3">
                        <div class="post-box">
                            <a href="@($"/newses-list/{news.NewsId}")">
                                <figure>
                                    <img src="/@StaticDetail.Default_Src_News_Image/@news.ImageName" alt="">
                                    <figcaption class="meta-fig">
                                        <span><i class="fa fa-clock-o"></i> 99/3/20</span>&nbsp;
                                        <span><i class="fa fa-comment-o"></i> 12</span>
                                    </figcaption>
                                    <figcaption class="view">
                                        <span>بخش ویژه</span>
                                        <span>انجمن</span>
                                        <span>اتاق خبر</span>
                                    </figcaption>
                                </figure>
                            </a>
                            <div class="text-p">
                                <a href="@($"/newses-list/{news.NewsId}")">
                                    <h5>@news.Tittle</h5>
                                    <p>
                                        @news.ShortDescription
                                    </p>
                                </a>
                                <div class="text-rigt">
                                    <a href="#">
                                    </a><a href="#">ادامه ...</a>
                                </div>
                            </div>

                        </div>
                    </div>
                } *@
            }
            else
            {
            <p>خبری برای نمایش وجود ندارد.</p>    
            }
        </div>
        @*    <div class="col-md-12 text-center">
        <nav aria-label="Page navigation example">
        <ul class="pagination">
        @if (Model.Filter.Newses != null && Model.Filter.Newses.Any())
        {
        @if (Model.Filter.Page > 1)
        {
        <li class="page-item"><a class="page-link" @onclick="() => HandlePageClick(Filter.Page - 1)">قبلی</a></li>
        }
        @for (int i = Model.Filter.StartPage; i <= Model.Filter.EndPage; i++)
        {
        var pageId = i;
        <li class="page-item @(Model.Filter.Page == pageId ?"active":"")"><a class="page-link" @onclick="() => HandlePageClick(pageId)">@pageId</a></li>
        }

        if (Model.Filter.Page < Model.Filter.EndPage)
        {
        <li class="page-item"><a class="page-link" @onclick="() => HandlePageClick(Filter.Page + 1)">بعدی</a></li>

        }
        }
        </ul>
        </nav>
        </div> *@
    </div>

</div>
